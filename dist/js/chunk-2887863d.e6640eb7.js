(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2887863d"],{"0dc2":function(t,e,a){"use strict";var s=a("2f7f"),r=a.n(s);r.a},"2f7f":function(t,e,a){},"503e":function(t,e,a){"use strict";var s=a("bffb"),r=a.n(s);r.a},"5b6e":function(t,e,a){"use strict";var s=a("b76d"),r=a.n(s);r.a},b30e:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("BoxCard",{attrs:{statsData:t.statsData}}),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"card"},[a("div",{staticClass:"title"},[a("span",{staticClass:"card-title"},[t._v("班级测试情况")]),a("div",{staticClass:"toolbar"},[a("span",{staticClass:"active"},[t._v("最近一个月")]),a("span",[t._v("整个学期")])])]),a("div",{staticStyle:{"margin-top":"40px","min-height":"300px"}},[t.testStage?a("lineChart",{attrs:{testStage:t.testStage}}):t._e()],1)])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"card"},[a("div",{staticClass:"title"},[a("span",{staticClass:"card-title"},[t._v("学生测试情况")]),a("div",{staticClass:"toolbar"},[a("span",{staticClass:"active"},[t._v("最新测试")]),a("span",[t._v("上一次测试")])])]),a("div",{staticClass:"card-table"},[a("StudentList",{attrs:{tableData:t.studentListData}})],1)])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"card"},[a("div",{staticClass:"title"},[a("span",{staticClass:"card-title"},[t._v("学情分析中心")])]),a("div",{staticClass:"analysis-main"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("div",{staticClass:"analysis-card"},[a("div",{staticClass:"info"},[a("h3",[t._v("[ 数学期中测试 ]")]),a("span",[t._v(" 平均分： "),a("b",{staticStyle:{color:"rgb(158, 227, 121)"}},[t._v(t._s(t.testPeriodAvgs.avgScore))])]),a("span",[t._v(" 最高分： "),a("b",{staticStyle:{color:"rgb(104, 220, 231)"}},[t._v(t._s(t.testPeriodAvgs.maxScore))])]),a("span",[t._v(" 最低分： "),a("b",{staticStyle:{color:"rgb(255, 140, 140)"}},[t._v(t._s(t.testPeriodAvgs.minScore))])])]),a("div",{staticClass:"progess"},[a("h3",[t._v("及格率:")]),a("el-progress",{attrs:{"stroke-width":8,percentage:t.testPeriodAvgs.passRate,status:"success"}}),a("PieChart",{attrs:{testPeriodAvgs:t.testPeriodAvgs}})],1)])]),a("el-col",{attrs:{xs:24,sm:16,md:16,lg:16,xl:16}},[a("h3",{staticClass:"correctRatio"},[t._v("知识点正确率")]),t.ratios?a("BarChart",{attrs:{ratios:t.ratios}}):t._e()],1)],1)],1)])])],1)],1)},r=[],i=(a("2703"),a("63ff"),a("d4ad")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-per"},[a("div",{staticClass:"text-title"},[t._v("测试成绩分布")]),a("div",{staticClass:"data-per-content"},[a("div",{staticClass:"data-per-item"},[a("el-progress",{attrs:{type:"circle","show-text":!1,percentage:t.testPeriodAvgs.excellentCount,"stroke-width":8,width:78,color:"#9EE379"}}),a("div",{staticClass:"text"},[a("span",{staticStyle:{color:"#9EE379"}},[t._v(t._s(t.testPeriodAvgs.excellentCount)+" %")]),a("p",[t._v("优秀")])])],1),a("div",{staticClass:"data-per-item"},[a("el-progress",{attrs:{type:"circle","show-text":!1,percentage:t.testPeriodAvgs.goodCount,"stroke-width":8,width:78,color:"#68DCE7"}}),a("div",{staticClass:"text"},[a("span",{staticStyle:{color:"#68DCE7"}},[t._v(t._s(t.testPeriodAvgs.goodCount)+" %")]),a("p",[t._v("良好")])])],1),a("div",{staticClass:"data-per-item"},[a("el-progress",{attrs:{type:"circle","show-text":!1,percentage:t.testPeriodAvgs.passCount,"stroke-width":8,width:78,color:"#FFD16E"}}),a("div",{staticClass:"text"},[a("span",{staticStyle:{color:"#FFD16E"}},[t._v(t._s(t.testPeriodAvgs.passCount)+" %")]),a("p",[t._v("及格")])])],1),a("div",{staticClass:"data-per-item"},[a("el-progress",{attrs:{type:"circle","show-text":!1,percentage:t.testPeriodAvgs.failedCount,"stroke-width":8,width:78,color:"#FF8C8C"}}),a("div",{staticClass:"text"},[a("span",{staticStyle:{color:"#FF8C8C"}},[t._v(t._s(t.testPeriodAvgs.failedCount)+" %")]),a("p",[t._v("不及格")])])],1)])])},n=[],l={props:["testPeriodAvgs"],data:function(){return{}},mounted:function(){},methods:{}},c=l,d=(a("503e"),a("4e82")),h=Object(d["a"])(c,o,n,!1,null,"248ca60a",null),p=h.exports,u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"150"}}),a("el-table-column",{attrs:{sortable:"",prop:"score",label:"成绩",width:"120"}}),a("el-table-column",{attrs:{sortable:"",prop:"rank",label:"排名",width:"120"}}),a("el-table-column",{attrs:{prop:"change",label:"变化（上升/下降）"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s(e.row.change)+" "),a("i",{class:[e.row.change>0?"iconfont iconshangjiantou":"iconfont iconxiajiantou"]})])]}}])})],1),a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-sizes":[10,20],"page-size":10,total:36,small:""}})],1)],1)},g=[],v={name:"",props:{tableData:{type:Array,required:!0}},data:function(){return{}},components:{},created:function(){},methods:{}},f=v,m=(a("0dc2"),Object(d["a"])(f,u,g,!1,null,"65a1409a",null)),b=m.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{height:t.height,width:t.width}})},C=[],x=(a("f93b"),a("4286")),_=a.n(x),y=a("ed08");a("d8b3");var S={props:{testStage:{type:Array,required:!0},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null,option:{tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"#57617B"}}},legend:{icon:"rect",itemWidth:14,itemHeight:5,itemGap:13,data:["年级平均分","班级平均分"],right:"4%",textStyle:{fontSize:12,color:"#666"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisTick:{show:!1},axisLine:{lineStyle:{color:"#a4abc5"}},axisLabel:{margin:10,textStyle:{fontSize:12,color:"#7c92a7"}},data:[]}],yAxis:[{type:"value",splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{color:"#7c92a7"},splitArea:{show:!1}}],series:[{name:"年级平均分",label:{normal:{show:!0,position:"top"}},type:"line",smooth:!0,lineStyle:{normal:{width:1}},areaStyle:{normal:{color:new _.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(137, 189, 27, 0.8)"},{offset:.8,color:"rgba(137, 189, 27, 0.1)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10}},itemStyle:{normal:{color:"rgb(137,189,27)"}},data:[]},{name:"班级平均分",label:{normal:{show:!0,position:"top"}},type:"line",smooth:!0,lineStyle:{normal:{width:1}},areaStyle:{normal:{color:new _.a.graphic.LinearGradient(0,0,0,1,[{offset:.3,color:"rgba(34, 185, 255, 0.8)"},{offset:.8,color:"rgba(34, 185, 255, 0.1)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10}},itemStyle:{normal:{color:"rgb(0,136,212)"}},data:[]}]}}},created:function(){this.testStage&&this.resetData(this.testStage)},watch:{testStage:{handler:function(t){this.resetData(t),this.initChart()},deep:!0}},mounted:function(){var t=this;this.initChart(),this.__resizeHandler=Object(y["a"])((function(){t.chart&&t.chart.resize()}),100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=_.a.init(this.$el,"macarons"),this.chart.setOption(this.option,!0)},resetData:function(t){var e=this;t&&t.forEach((function(t){e.option.xAxis[0].data.push("测试"+t.title),e.option.series[0].data.push(t.gScore),e.option.series[1].data.push(t.cScore)}))}}},A=S,P=Object(d["a"])(A,w,C,!1,null,null,null),D=P.exports,L=a("72fb"),E={name:"",props:[""],data:function(){return{statsData:"",studentListData:[],testStage:"",testPeriodAvgs:"",ratios:""}},beforeCreate:function(){},components:{BoxCard:i["a"],PieChart:p,StudentList:b,LineChart:D,BarChart:L["a"]},created:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:this.getData();case 1:case"end":return t.stop()}}),null,this)},methods:{getData:function(){var t,e,a,s,r;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,regeneratorRuntime.awrap(this.$http.get("/stats"));case 3:return t=i.sent,i.next=6,regeneratorRuntime.awrap(this.$http.get("/studentLists"));case 6:return e=i.sent,i.next=9,regeneratorRuntime.awrap(this.$http.get("/testStage"));case 9:return a=i.sent,i.next=12,regeneratorRuntime.awrap(this.$http.get("/testPeriodAvgs"));case 12:return s=i.sent,i.next=15,regeneratorRuntime.awrap(this.$http.get("/ratios"));case 15:r=i.sent,this.statsData=t.data,this.studentListData=e.data,this.testStage=a.data.data,this.testPeriodAvgs=s.data,this.ratios=r.data.data,i.next=26;break;case 23:i.prev=23,i.t0=i["catch"](0),console.log(i.t0);case 26:case"end":return i.stop()}}),null,this,[[0,23]])}}},k=E,z=(a("5b6e"),Object(d["a"])(k,s,r,!1,null,"0ffb6abc",null));e["default"]=z.exports},b76d:function(t,e,a){},bffb:function(t,e,a){}}]);